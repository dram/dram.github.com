<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/css/main.css"><link rel="shortcut icon" href="/images/favicon.png"><title>Moqui的时区问题</title></head><body><header><span id="site-name"><a href="/">dram.me</a></span><nav><ul><li><a href="/blog/about.html">About</a></li><li><a href="/logo/">LOGO</a></li></ul></nav></header><article><h1 class="topictitle1" id="ariaid-title1">Moqui的时区问题</h1><time>03 Jul 2021</time><div><p>在Moqui的<a href="https://www.moqui.org/m/docs/framework/Run+and+Deploy" target="_blank">文档</a>说明中，可以看到涉及时区的有两个配置项，分别是<code>default_time_zone</code>和<code>database_time_zone</code>，而文档中指出，<code>database_time_zone</code>默认以<code>default_time_zone</code>作为默认值。</p><p>但实际上，如果在<span class="filepath">runtime/conf/MoquiDevConf.xml</span>只设置<code>default_time_zone</code>的话，<code>database_time_zone</code>的值不会跟随。这有可能和<span class="filepath">MoquiDefaultConf.xml</span>中直接指定了<code>database_time_zone</code>的值有关。对这个问题，我<a href="https://www.moqui.org/vapps/hm/Request/EditRequest?requestId=101123" target="_blank">提交</a>了一个问题单。</p><p>而另一个问题，发现Moqui自身包含的数据模型中，时间都是以不包含时区的timestamp存储的，那这个<code>database_time_zone</code>的作用是什么呢？</p></div></article><footer><p>Copyright © 2021 Xin Wang</p></footer></body></html>