<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/css/main.css"><link rel="shortcut icon" href="/images/favicon.png"><title>LedgerSMB安装配置</title></head><body><header><span id="site-name"><a href="/">dram.me</a></span><nav><ul><li><a href="/blog/about.html">About</a></li><li><a href="/logo/">LOGO</a></li></ul></nav></header><article><h1 class="topictitle1" id="ariaid-title1">LedgerSMB安装配置</h1><time>16 Oct 2021</time><div><ol><li><p>安装perlbrew：<code>apt install --no-install-recommends perlbrew</code></p></li><li><p>初始化perlbrew环境：<code>perlbrew init</code></p></li><li><p>安装perl：<code>perlbrew install --notest --verbose perl-5.32.1</code></p></li><li><p>安装cpanminus：<code>perlbrew install-cpanm</code></p></li><li><p>安装依赖包：<code>perlbrew exec --with perl-5.32.1 cpanm --notest --verbose --with-feature=starman --mirror=https://mirrors.tuna.tsinghua.edu.cn/CPAN/ --mirror-only --installdeps $HOME/code/ledgersmb/LedgerSMB</code></p></li><li><p>准备Node.js环境：</p><pre class="screen">wget https://nodejs.org/dist/v16.11.1/node-v16.11.1-linux-x64.tar.xz
tar xf node-v16.11.1-linux-x64.tar.xz
ln -s $PWD/node-v16.11.1-linux-x64/bin/{node,npm} $HOME/.local/bin</pre></li><li><p>DoJo打包：<code>make dojo</code></p></li><li><p>启动LedgerSMB服务：<code>perlbrew exec --with perl-5.32.1 starman -I lib -I old/lib --preload-app bin/ledgersmb-server.psgi</code></p></li><li><p>创建数据库管理用户：<code>CREATE ROLE ledgersmb WITH CREATEDB CREATEROLE LOGIN PASSWORD 'ledgersmb'</code></p></li></ol></div></article><footer><p>Copyright © 2021 Xin Wang</p></footer></body></html>