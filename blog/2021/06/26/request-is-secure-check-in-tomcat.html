<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" href="/css/main.css"><link rel="shortcut icon" href="/images/favicon.png"><title>Tomcat中的isSecure检查</title></head><body><header><span id="site-name"><a href="/">dram.me</a></span><nav><ul><li><a href="/blog/about.html">About</a></li><li><a href="/logo/">LOGO</a></li></ul></nav></header><article><h1 class="topictitle1" id="ariaid-title1">Tomcat中的isSecure检查</h1><time>26 Jun 2021</time><div><p>OFBiz的ICalendar，在HTTP环境下，如果打开导出链接，会提示400错误问题。至于具体的原因，是因为其中对访问形式做了检查，代码在<span class="filepath">workeffort/ICalWorker.java</span>文件的<code>isValidRequest</code>函数中，通过<code>ServletRequest.isSecure()</code>接口判断用户访问的安全性。</p><p>在<a href="https://stackoverflow.com/a/8208910" target="_blank">这里</a>有对<code>isSecure()</code>的讨论，其中主要涉及到反向代理情况下，如何判断用户访问安全性的问题。在Tomcat中，是通过<code>X-Forwarded-Proto</code>头来处理的。</p></div></article><footer><p>Copyright © 2021 Xin Wang</p></footer></body></html>